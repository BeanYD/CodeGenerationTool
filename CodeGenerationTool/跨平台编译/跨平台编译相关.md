### clear_for_osx

```shell
# 项目所在目录
cd /Users/../

find . -name "xcuserdata" |xargs rm -rf

rm -rf libs
rm -rf GoPlay/build
rm -rf obj

```



### build_for_osx

```shell
# 项目所在目录
cd /Users/../

# 更新svn代码
svn up ../

# 进入.xcodeproj所在目录
cd GoPlay

# 清理缓存
xcodebuild -project GoPlay.xcodeproj -target GoPlay -config Release clean
# Release版本将Debug都改为Release，确保证书可用
xcodebuild -project GoPlay.xcodeproj -target GoPlay -config Release

# 动态库拷贝到对应目录
#cp build/Release/*.dylib ../../uniclient/lib/osx
#cp ../include/SwfPlayerBase.h ../../uniclient/include

#cp build/Release/*.dylib /usr/local/lib/

#cd ../../uniclient
# 提交代码
#svn ci -m "update SwfPlayer for osx" lib/osx/ include/ 

```



创建好`mac`上的`Library`后，在`Target`下添加`iOS`的`static framework`，如果使用同一源码文件，将自动创建的文件删除，并将源文件添加到`iOS`的`Build Phases > Compile Sources`中。而后在shell中执行以下代码

### build_for_iOS

```shell
# 项目所在目录
cd /Users/../

# 更新svn代码
svn up ../

# 进入.xcodeproj所在目录
cd GoPlay

xcodebuild clean

# Release版本将Debug都改为Release，确保证书可用
xcodebuild -project GoPlay.xcodeproj -target GoPlay_iOS -config Debug -sdk iphoneos

# 编译模拟器上的静态库
# xcodebuild -project GoPlay.xcodeproj -target GoPlay_iOS-i386 -config Debug -sdk iphonesimulator

# 将两个静态库合并
# lipo -create build/Debug-iphoneos/*.a build/Debug-iphonesimulator/*.a -output libGoPlay_iOS.a

#cp libSwfViewIOS.a ../../uniclient/lib/ios
#cp ../include/SwfPlayerBase.h ../../uniclient/include

#cd ../../uniclient
#svn ci -m "update SwfPlayer for ios" lib/ios/ include/ 
```



### build_for_Android

```shell
cd /Users/frank/Documents/client/swfplayer

svn up ../

cd jni

export PATH=${PATH}:/Users/frank/documents/android-ndk-r10e
ndk-build

cp -R ../libs/* ../../uniclient/lib/android

cd ../../uniclient/lib

svn ci -m "update SwfPlayer for android" android/
```

